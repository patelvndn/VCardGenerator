<!DOCTYPE html>
<html lang="en">
<head >
    <link rel="stylesheet" type="text/css" href="styles.css">
    <meta charset="UTF-8">
    <title>Input Your Name!</title>
</head>
<body>
<h1>Enter the following</h1>
<hr>
<form id="data" method="POST" action="vcard.js">
    <label for="fname">Enter your first name:</label>
    <input type="text" id="fname" name="fname"><br>

    <label for="lname">Enter your last name:</label>
    <input type="text" id="lname" name="lname"><br>

    <label for="email">Enter your email:</label>
    <input type="email" id="email" name="email"><br>

    <label for="phone">Enter your phone number:</label>
    <input type="number" id="phone" name="phone"><br>

    <label for="role">Enter your role:</label>
    <input type="text" id="role" name="role"><br>

    <button type="submit">Submit</button>
</form>
<script type="module">
    import VCard from "https://cdn.skypack.dev/vcard-creator"

    const form = document.getElementById('data');
    form.addEventListener('submit', function(event) {
        event.preventDefault();

        // Get the form data
        const formData = new FormData(form);

        // Convert the form data to an object
        const data = Object.fromEntries(formData.entries());

        var myVCard = new VCard()
        myVCard
            .addName(data.fname, data.lname, '', '', '')
            .addCompany('MyProjectUSA')
            .addJobtitle(data.role)
            .addEmail(data.email)
            .addPhoneNumber(data.phone, 'CELL')
            .addPhoneNumber('6149050977','WORK')
            .addAddress(null, null, '3275 Sullivant Ave', 'Columbus', null, '43204', 'Ohio')
            .addURL('https://www.myprojectusa.org/')

        const output = myVCard.toString()
        const preElement = document.querySelector('#output')
        const outputNode = document.createTextNode(output)
        preElement.appendChild(outputNode)



            });
</script>
<pre id="output"></pre>
</body>
</html>